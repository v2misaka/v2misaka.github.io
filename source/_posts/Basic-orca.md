---
title: Basics of Orca
date: 2023-11-15 15:08:32
categories: 
- Tutorials
- Orca
---
This post is for some basic use of **Orca**, including single point calculation; geometry optimization and TDDFT calculations.

# Input file

## How to generate an input file

Orca only use one input file: `filename.inp`, which is an ASCII encoded file.

### For Linux

Just simply create `filename.inp`. And make sure the **End of line Sequence** is `LF`.

### For Windows

Orca input file can be generated by **Avogadro** program in Windows, which can be downloaded it from [Orca Forum](https://orcaforum.kofo.mpg.de/app.php/portal).

If you want to generate input file by yourself, you can create a `filename.txt` file, then save it as `filename.inp`, and remember to change the file type to be `All files`.

**VS Code** is recommended for Windows users, because it enables Linux-like approach to create files.

## Structure of input file

The common structure for Orca input file is as follows:

```
! Keywords
# comments
%input blocks
*cordinates
*
```

For more detailed information, please refer to **Orca manual** or [this useful web page](https://sites.google.com/site/orcainputlibrary/home?authuser=0).
And there is some input files I saved as examples, which can be found at the [Examples](#example_jump) part.

# <span id="example_jump">Examples</span>

## Geometry optimization

This is an example for geometry optimization.

```
!B3LYP 6-31g(d,p) opt tightscf
# Functional and basis set. opt means the job type is opt. Default job type is single point calculation.

%pal  # How many cores used
    nprocs 36
end

!CPCM(water)  #solvent settings
%cpcm
    smd true
    SMDsolvent "water"
end

# Sinplest way to input cordinates.
*xyz 0 1    #cordinates_type charge spin
O 0 0 0
*
# Remember the '*' at the end!!!!!
```

## SOC calculation

This is an example for calculating SOC matrix.

```
!M062X 6-31g(d,p) tightscf  # I think 'tightscf' is the default setting.

%tddft  # Settings for TDDFT calculation
nroots 5    # How many excited states
dosoc true  # Calculate SOC
tda false   # Just close it, goes wrong easily.
end     #don't forget end

%pal
    nprocs 36   # How many cores for parallel running
end

!CPCM(water)    # Solvent settings
%cpcm
    smd true
    SMDsolvent "water"
end

#This is another way to input cordinates, remember to have a new line at the end.
#This file should not be the same name as input file.
*xyzfile 0 1 opt.xyz


*xyz 0 1
O 0 0 0
*
```

## Bash script

This is the example of bash script to submit Orca calculation jobs for the cluster of UFS Lab.

```
#!/bin/bash


#$ -pe mpi_36 36
#$ -N Orca_yourname
#$ -S /bin/bash
#$ -q all.q@node02
#$ -V
#$ -cwd


echo "Got $NSLOTS slots."

module load openmpi-4.1.1

/opt/orca/orca_5_0_3/orca yourjob.inp>yourjob.out

```
